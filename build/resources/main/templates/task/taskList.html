<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<body>
<div>
    <header>
        <h1 th:text="#{page.tasks}">
            나의 할 일
        </h1>
        <a href="/tasks/new" th:text="#{button.addTask}">
            새로운 TODO 등록
        </a>
    </header>
    <section>
        <h2 th:if="${param.status}" th:text="#{message.added}"></h2>
        <article>
            <h2>
                TODO
            </h2>
            <ul>
                <li th:each="task : ${todos}">
                    <h3 th:text="${task.name}"></h3>
                    <p>
                        <span th:text="#{label.regDate}">등록날짜</span> : <span th:text="${#temporals.format(task.regDate, 'yyyy-MM-dd')}"></span>,
                        <span th:text="#{label.priority}">우선순위</span> : <span th:text="#{${task.priority.getDescription()}}"></span>
                    </p>
                    <a th:href="@{/tasks/{id}/edit (id=${task.id})}" role="button">
                        [ <span th:text="#{button.edit}">수정</span> ]
                    </a>
                    <a th:href="@{/tasks/{id}/update (id=${task.id})}" role="button">
                        [ &rightarrow; ]
                    </a>
                </li>
            </ul>
        </article>
        <article>
            <h2>
                DOING
            </h2>
            <ul>
                <li th:each="task : ${doings}">
                    <h3 th:text="${task.name}"></h3>
                    <p>
                        <span th:text="#{label.regDate}">등록날짜</span> : <span th:text="${#temporals.format(task.regDate, 'yyyy-MM-dd')}"></span>,
                        <span th:text="#{label.priority}">우선순위</span> : <span th:text="#{${task.priority.getDescription()}}"></span>
                    </p>
                    <a th:href="@{/tasks/{id}/edit (id=${task.id})}" role="button">
                        [ <span th:text="#{button.edit}">수정</span> ]
                    </a>
                    <a th:href="@{/tasks/{id}/update (id=${task.id})}" role="button">
                        [ &rightarrow; ]
                    </a>
                </li>
            </ul>
        </article>
        <article>
            <h2>
                DONE
            </h2>
            <ul>
                <li th:each="task : ${dones}">
                    <h3 th:text="${task.name}"></h3>
                    <p>
                        <span th:text="#{label.regDate}">등록날짜</span> : <span th:text="${#temporals.format(task.regDate, 'yyyy-MM-dd')}"></span>,
                        <span th:text="#{label.priority}">우선순위</span> : <span th:text="#{${task.priority.getDescription()}}"></span>
                    </p>
                    <a th:href="@{/tasks/{id}/edit (id=${task.id})}" role="button">
                        [ <span th:text="#{button.edit}">수정</span> ]
                    </a>
                    <a th:href="@{/tasks/{id}/delete (id=${task.id})}" role="button">
                        [ X ]
                    </a>
                </li>
            </ul>
        </article>

    </section>
</div>
</body>
</html>